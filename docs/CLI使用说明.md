# 产品配置Agent - 命令行客户端使用说明

## 简介

`PCAgentChat` 是一个命令行聊天客户端，提供类似 Claude 的交互体验，支持格式化输出（颜色、加粗等）。

## 功能特点

- 🎨 **格式化输出**：使用 ANSI 颜色码实现彩色输出
- 📊 **表格显示**：美观的表格展示配置结果
- 📈 **进度显示**：实时显示配置进度
- 🔄 **实时更新**：自动轮询获取最新状态

## 运行方式

### 方式一：直接运行（需要先启动后端服务）

```bash
# 确保后端服务已启动（默认端口 8080）
mvn spring-boot:run

# 在另一个终端运行 CLI 客户端
mvn exec:java -Dexec.mainClass="com.pcagent.cli.PCAgentChat"
```

### 方式二：指定服务器地址

```bash
# 通过环境变量指定
export PCAGENT_BASE_URL=http://localhost:8080/api/v1
mvn exec:java -Dexec.mainClass="com.pcagent.cli.PCAgentChat"

# 或通过系统属性指定
mvn exec:java -Dexec.mainClass="com.pcagent.cli.PCAgentChat" -Dpcagent.base.url=http://localhost:8080/api/v1
```

## 使用说明

### 启动客户端

运行后会显示欢迎界面：

```
╔═══════════════════════════════════════════════════════════╗
║        产品配置Agent - 命令行聊天客户端                  ║
╚═══════════════════════════════════════════════════════════╝

提示: 输入 'exit' 或 'quit' 退出，输入 'clear' 清屏
```

### 输入配置需求

在 `You:` 提示符后输入配置需求，例如：

```
我有一名高端客户，需要建立数据中心，要求如下：

数据中心服务器 500台

1. CPU:最新一代Intel® Xeon® Scalable处理器，核心数≥16核 

2. 内存：配置≥256GB DDR4 ECC Registered内存，并提供≥16个内存插槽以供扩展。
```

### 查看输出

客户端会实时显示：

1. **进度条**：显示当前配置进度
2. **配置需求识别**：显示识别的产品系列、总套数等
3. **规格解析结果**：表格形式显示原始规格和标准规格
4. **产品选型结果**：显示候选产品和偏离度
5. **参数配置结果**：显示最终配置的参数值

### 命令

- `exit` 或 `quit`：退出程序
- `clear`：清屏

## 输出示例

### 进度显示

```
Progress: ████████████████████████████████████░░░░░░░░ 80% (2/3)
  → 按标准规格需求进行产品选型
```

### 表格显示

```
┌────┬──────────────────────────────────────┬────────────────────┐
│序号│原始规格需求                          │标准规格需求        │
├────┼──────────────────────────────────────┼────────────────────┤
│1   │CPU:最新一代Intel® Xeon® Scalable...  │处理器核心数>=16    │
│2   │内存：配置≥256GB DDR4 ECC...         │内存容量>=256       │
└────┴──────────────────────────────────────┴────────────────────┘
```

## 注意事项

1. 确保后端服务已启动并运行在指定端口（默认 8080）
2. 终端需要支持 ANSI 颜色码（大多数现代终端都支持）
3. Windows 用户可能需要使用支持 ANSI 的终端（如 Windows Terminal、Git Bash 等）

## 故障排除

### 连接失败

如果出现连接错误，请检查：
- 后端服务是否已启动
- 端口是否正确（默认 8080）
- 防火墙设置

### 颜色不显示

如果颜色不显示，可能是终端不支持 ANSI 颜色码，可以：
- 使用支持 ANSI 的终端
- 在 Windows 上使用 Windows Terminal 或 Git Bash

